# ============================================================================
# CarPooling - Environment Variables Template
# ============================================================================
# USAGE:
#   Development: cp .env.example .env (edit with your values)
#   Production:  Set these in your deployment environment (AWS, Docker, etc)
# ============================================================================

# ----------------------------------------------------------------------------
# INFRASTRUCTURE - MongoDB
# ----------------------------------------------------------------------------
MONGO_DB=carpooling
MONGO_ROOT_USER=admin
MONGO_ROOT_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# ----------------------------------------------------------------------------
# INFRASTRUCTURE - MySQL Databases
# ----------------------------------------------------------------------------
# Users database
MYSQL_USERS_ROOT_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DB_USER=root
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DB_HOST=mysql-users  # Docker service name, or localhost for local dev
DB_PORT=3306
DB_NAME=carpooling_users

# Bookings database
MYSQL_BOOKINGS_ROOT_PASSWORD=CHANGE_ME_STRONG_PASSWORD

# ----------------------------------------------------------------------------
# INFRASTRUCTURE - RabbitMQ
# ----------------------------------------------------------------------------
RABBITMQ_USER=carpool_user
RABBITMQ_PASS=CHANGE_ME_STRONG_PASSWORD

# ----------------------------------------------------------------------------
# SECURITY - JWT Secret (CRITICAL)
# ----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
# MUST be the same across all microservices
JWT_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL

# ----------------------------------------------------------------------------
# APPLICATION - Environment Configuration
# ----------------------------------------------------------------------------
ENVIRONMENT=development  # development | staging | production
GIN_MODE=debug          # debug | release
LOG_LEVEL=info          # debug | info | warn | error

# ----------------------------------------------------------------------------
# APPLICATION - Domain URL (CRITICAL for emails)
# ----------------------------------------------------------------------------
# Used for:
#   - Email verification links
#   - Password reset links
#   - Any frontend redirects
# Format: http://domain.com or https://domain.com (no trailing slash)
APP_URL=http://localhost:3000

# ----------------------------------------------------------------------------
# SMTP - Email Configuration (CRITICAL)
# ----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_FROM=your-email@gmail.com
# For Gmail: Generate App Password at https://myaccount.google.com/apppasswords
SMTP_PASSWORD=CHANGE_ME_GMAIL_APP_PASSWORD

# ----------------------------------------------------------------------------
# INFRASTRUCTURE - Solr Search
# ----------------------------------------------------------------------------
SOLR_URL=http://solr:8983/solr
SOLR_CORE=carpooling_trips

# ----------------------------------------------------------------------------
# INFRASTRUCTURE - Memcached
# ----------------------------------------------------------------------------
MEMCACHED_SERVERS=memcached:11211

# ----------------------------------------------------------------------------
# MICROSERVICES - Inter-service URLs
# ----------------------------------------------------------------------------
# These use Docker service names when running in containers
# Use localhost:PORT when running locally
USERS_API_URL=http://users-api:8001
TRIPS_API_URL=http://trips-api:8002
BOOKINGS_API_URL=http://bookings-api:8003
SEARCH_API_URL=http://search-api:8004